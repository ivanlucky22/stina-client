<form [formGroup]="form">
  <div class="form-row">
    <div class="form-group col-auto">
      <app-user-icon photoURL="{{user?.photoURL}}" [userId]="0" [classes]="'user-icon-css-lg p-0'"></app-user-icon>
    </div>
    <div class="form-group col">
      <mat-form-field class="w-100">
        <input autofocus
               matInput
               type="text"
               class="w-100"
               id="messageTitleInput"
               placeholder="Заголовок"
               formControlName="messageTitleInput">
      </mat-form-field>
    </div>
  </div>

  <div *ngFor="let storyItem of storyItems">
    <app-story-item (onFileUploaded)="addImageStoryItem($event)" [storyItem]="storyItem"></app-story-item>
  </div>

  <div class="form-group">
    <ng-select
      [items]="labels"
      [multiple]="true"
      [closeOnSelect]="false"
      bindLabel="text"
      placeholder="Добавьте теги"
      [loading]="loading"
      [(ngModel)]="selectedLabels"
      [addTag]="addTag"
      [ngModelOptions]="{standalone: true}">
    </ng-select>
  </div>

  <div class="form-group">
    <button class="btn btn-lg btn-success w-100 mt-3"
            [disabled]="!form.valid"
            (click)="publishMessage()"> {{'add.article.button.caption'|translate}}
    </button>
  </div>

</form>
